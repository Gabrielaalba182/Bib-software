{% extends "base.html" %}

{% block content %}

<div class="d-flex justify-content-between mb-3">
    <h2>Livros Cadastrados</h2>
    <a href="/add" class="btn btn-success">+ Adicionar Livro</a>
</div>

<table class="table table-striped table-hover shadow">
    <thead class="table-dark">
        <tr>
            <th>Título</th>
            <th>Autor</th>
            <th>Status</th>
            <th>Ação</th>
        </tr>
    </thead>

    <tbody>
    {% for book in books %}
        <tr>
            <td>{{ book.title }}</td>
            <td>{{ book.author }}</td>
            <td>
                {% if book.available == 1 %}
                    <span class="badge bg-success">Disponível</span>
                {% else %}
                    <span class="badge bg-danger">Emprestado</span>
                {% endif %}
            </td>
            <td>
                {% if book.available == 1 %}
                    <a href="/borrow/{{ book.id }}" class="btn btn-warning btn-sm">Emprestar</a>
                {% else %}
                    <a href="/return/{{ book.id }}" class="btn btn-primary btn-sm">Devolver</a>
                {% endif %}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}